<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>
    Document
  </title>
  <link href="index.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js">
  </script>
</head>

<body>
  <div class="content">
    <h1>
      Common Repository Files
    </h1>
    <div class="files">
      <div class="file-box" id="data2.txt">
        <a href="data2.txt">
          data2.txt
        </a>
        <input class="button" id="data2.txt" onclick="del(this.id)" type="button" value="Delete" />
      </div>
      <div class="file-box" id="git.txt">
        <a href="git.txt">
          file-git.txt
        </a>
        <input class="button" id="git.txt" onclick="del(this.id)" type="button" value="Delete" />
      </div>
      <div class="file-box" id="dat.txt">
        <a href="dat.txt">
          dat.txt
        </a>
        <input class="button" id="dat.txt" onclick="del(this.id)" type="button" value="Delete" />
      </div>
      <div class="file-box" id="basics.txt">
        <a href="basics.txt">
          basics.txt
        </a>
        <input class="button" id="basics.txt" onclick="del(this.id)" type="button" value="Delete" />
      </div>
      <div class="file-box" id="da.txt">
        <a href="da.txt">
          da.txt
        </a>
        <input class="button" id="da.txt" onclick="del(this.id)" type="button" value="Delete" />
      </div>
    </div>
    <div class="posting">
      <h2>
        Upload files (POST REQUEST)
      </h2>
      <form action="server" enctype="multipart/form-data" method="post">
        <p>
          Choose a file to upolad:
        </p>
        <input class="upload" name="file" type="file" />
        <input class="upload" type="submit" value="Upload" />
      </form>
    </div>
    <div class="put">
      <h2>
        Update files (PUT REQUEST)
      </h2>
      <form id="form">
        <p>
          Choose a file to upolad:
        </p>
        <input class="upload" id="upload" name="file" type="file" />
        <input class="upload" onclick="put()" type="button" value="Upload" />
      </form>
    </div>
    <div class="head">
      <h2>
        Check headers (HEAD REQUEST)
      </h2>
      <form id="form-head">
        <p>
          File name:
        </p>
        <input class="check" id="head-file" type="text" />
        <input class="check" onclick="head_req()" type="button" value="Check" />
      </form>
    </div>
  </div>
</body>
<script>
  function del(id) {
    $.ajax({
      url: id,
      type: 'DELETE',
      success: function (result) {
        // Do something with the result
      }
    });
  }
  function put() {
    var name = document.getElementById("upload").value;
    var ind = name.lastIndexOf("\\") + 1;
    name = name.slice(ind);
    alert("name = " + name);
    var fd = new FormData(document.getElementById("form"));
    $.ajax({
      url: name,
      type: 'PUT',
      data: fd,
      processData: false,
      contentType: false
    })
  }
  function head_req() {
    var name = document.getElementById("head-file").value;
    //console.log(name);
    alert("name = " + name);
    $.ajax({
      url: name,
      type: 'HEAD'
    })
  }
</script>

</html>
